<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Goals! | Sign Up</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body class="centered">
        <header><h1>Goals!</h1></header>
        <form method="post" target="_blank">
        <form>
            <label for="uid">Username:</label><br>
            <input class="formtextfield" type="text" id="uid" name="uid"><br>

            <label for="pwd">Password:</label><br>
            <input class="formtextfield" type="password" id="pwd" name="pwd"><br>
            
            <label for="name">Name:</label><br>
            <input class="formtextfield"  type="text" id="name" name="name"><br>
            
            <fieldset >
                <legend>Addres details</legend>
                <label for="addr">Street & Number:</label><br>
                <input class="fieldsettextfield" type="text" id="addr" name="addr"><br>

                <label for="country">Country:</label><br>
                <input class="fieldsettextfield" type="text" id="country" name="country"><br>

                <label for="zip">ZIP code:</label><br>
                <input class="fieldsettextfield" type="text" id="zip" name="zip"><br>
            </fieldset>

            <label for="email">Email:</label><br>
            <input class="formtextfield" type="text" id="email" name="email"><br>

            <label for="sex">Sex:</label><br>
            <select id="sex" name="sex">
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
            </select><br>
                
            <label for="lang">Language:</label><br>
            <input class="formtextfield" type="text" id="lang" name="lang"><br>

            <label for="bio">Bio:</label><br>
            <textarea type="text" id="bio" name="bio"></textarea><br><br>

            <button onclick="window.location.href='./index.html';">Back</button>
            <input class="button" type="submit" value="Sign Up" onclick="window.location.href='./main.html';" onsubmit="return formValidation">
        </form>
        <script>
            function formValidation(){
                var userID = document.forms["signinForm"]["userID"].value;
                var chara = userID.charAt(0);
                var charb = userID.charAt(userID.length);
                var condition1 = userID === "";

                var password = document.forms["signinForm"]["password"].value;
                var condition2 = password === "";

                var name = document.forms["signinForm"]["name"].value;
                var nameAlphabet = false;
                for(let i=0; i<name.length;i++){
                    let currentChar = userID.charAt(i);
                    if(currentChar !== currentChar.toLowerCase()){
                    } else if(currentChar !== currentChar.toUpperCase()){
                    } else{
                        nameAlphabet = true;
                    }
                }
                var condition3 = name === "";

                var country = document.forms["signinForm"]["country"].value;
                var condition4 = country === "";

                var zip = document.forms["signinForm"]["zip"].value;
                var condition5 = zip === "";
                var zipform = false;
                for(let i=0; i<4;i++){
                    let currentChar = userID.charAt(i);
                    if(currentChar !== currentChar.toLowerCase()){
                    } else if(currentChar !== currentChar.toUpperCase()){
                    } else{
                        zipform = true;
                    }
                }
                for(let i=4; i<6;i++){
                    let currentChar = userID.charAt(i);
                    if(!(isNaN(currentChar*1))){
                    }  else{
                        zipform = true;
                    }
                }

                var email = document.forms["signinForm"]["email"].value;
                var condition6 = email === "";

                var sex = document.forms["signinForm"]["sex"].value;
                var condition7 = sex === "";

                var lang = document.forms["signinForm"]["lang"].value;
                var condition8 = lang === "";

                if(condition1 || condition2 || condition3 || condition3 || condition4 || condition5 || condition6 || condition7 || condition8){
                    alert("You have not filled out one of the required fields!")
                } else if(chara === chara.toLowerCase()){
                    alert("Your name must start with a capital letter!")
                } else if(!(isNaN(charb*1)) || (charb !== charb.toLowerCase() || charb !== charb.toUpperCase())){
                    alert("Your name must end with a special character!")
                } else if(5 > userID.length >12) {
                    alert("Your name must be 5-12 characters long!")
                } else if(password.length <12) {
                    alert("Your password must be at least 12 characters long!")
                } else if(nameAlphabet){
                    alert("Your name cannot consist of non-alphabetic symbols")
                } else if(zipform){
                    alert("Please input correct zip format!")
                }
                
            }
        </script>
    </body>
</html>